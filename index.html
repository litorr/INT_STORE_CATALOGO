<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INT STORE - Catálogo de Ropa y Productos</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="logo.png" alt="INT STORE">
            </div>
            <nav>
                <ul class="nav-links">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="urbano.html">Urbano</a></li>
                    <li><a href="anime.html">Anime</a></li>
                    <li><a href="damas.html">Damas</a></li>
                    <li><a href="navidad.html">Navidad</a></li>
                    <li><a href="halloween.html">Halloween</a></li>
                    <li><a href="tazas.html">Tazas</a></li>
                    <li><a href="contacto.html">Contacto</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1 class="hero-title">Catálogo de Ropa y Productos</h1>
        </div>
        <img src="hero.png" alt="Hero Image">
    </section>

    <main class="container">
        <h1 class="titulo-categoria">Últimos Productos</h1>
        <div class="product-grid">
            
            <div class="product-card">
                <div class="product-image-container">
                    <img src="urbano/1.png" alt="Producto 1">
                </div>
                <p class="precio">$11</p>
                <button class="btn-descargar" onclick="descargarImagenComoPNG('damas/dama.png', 'producto1.png')">Descargar</button>
            </div>

            <div class="product-card">
                <div class="product-image-container">
                    <img src="halloween/5.png" alt="Producto 1">
                </div>
                <p class="precio">$10</p>
                <button class="btn-descargar" onclick="descargarImagenComoPNG('damas/dama.png', 'producto1.png')">Descargar</button>
            </div>

            <div class="product-card">
                <div class="product-image-container">
                    <img src="anime/2.png" alt="Producto 1">
                </div>
                <p class="precio">$10</p>
                <button class="btn-descargar" onclick="descargarImagenComoPNG('damas/dama.png', 'producto1.png')">Descargar</button>
            </div>

            <div class="product-card">
                <div class="product-image-container">
                    <img src="navidad/8.png" alt="Producto 1">
                </div>
                <p class="precio">$10</p>
                <button class="btn-descargar" onclick="descargarImagenComoPNG('damas/dama.png', 'producto1.png')">Descargar</button>
            </div>

            <div class="product-card">
                <div class="product-image-container">
                    <img src="damas/4.png" alt="Producto 1">
                </div>
                <p class="precio">$10</p>
                <button class="btn-descargar" onclick="descargarImagenComoPNG('damas/dama.png', 'producto1.png')">Descargar</button>
            </div>
        
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 INT STORE. Todos los derechos reservados.</p>
            <p>WhatsApp: +58 414 1914478</p>
            <p>Email: info@intstore.com</p>
        </div>
    </footer>

    <script>
        // Menú hamburguesa
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');
        
        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.classList.toggle('active');
        });

        // Cerrar menú al hacer clic en un enlace
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                hamburger.classList.remove('active');
            });
        });

        function descargarImagenComoPNG(url, nombre) {
            // Asegurarse de que el nombre tenga extensión .png
            if (!nombre.endsWith('.png')) {
                nombre = nombre.replace(/\.[^/.]+$/, "") + '.png';
            }

            fetch(url)
                .then(resp => resp.blob())
                .then(blob => {
                    // Si la imagen ya es PNG, la descargamos directamente
                    if (blob.type === 'image/png') {
                        descargarBlob(blob, nombre);
                    } else {
                        // Si no, convertimos la imagen a PNG
                        return convertirImagenAPNG(blob, nombre);
                    }
                })
                .catch(() => alert('Error al descargar la imagen'));
        }

        function convertirImagenAPNG(blob, nombre) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');

                img.onload = function() {
                    canvas.width = img.width;
                    canvas.height = img.height;
                    ctx.drawImage(img, 0, 0);
                    canvas.toBlob((pngBlob) => {
                        descargarBlob(pngBlob, nombre);
                        resolve();
                    }, 'image/png');
                };

                img.onerror = reject;
                img.src = URL.createObjectURL(blob);
            });
        }

        function descargarBlob(blob, nombre) {
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = nombre;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>